<div class="maincontainer">
    <div class="sidebar">
        <div class="nav">
            <div class="nav-item" *ngFor="let MAS of MASs" routerLinkActive="is-active" [ngClass]="MAS.id === selectedMASID ? 'active' : ''">
                <a class="list-text"  [routerLink]="['/ams', MAS.id]" >
                  <p > MAS {{ MAS.id }}</p>
                </a>
            </div>
        </div>
    </div>
    <div class="contentcontainer">
        <div *ngIf="selectedMASID === -1">
            <h1>No MAS selected, select one...</h1>
        </div>
        <div *ngIf="selectedMASID !== -1">

            <div class="config">
                <div class="config-header d-flex justify-content-between"> 
                    <div class="title">Config</div>
                    <i class="fas fa-angle-right" *ngIf="collapsed" (click)="onToggleCollapsed()"></i>
                    <i class="fas fa-angle-down" *ngIf="!collapsed" (click)="onToggleCollapsed()"></i>
                </div>
                <table *ngIf="!collapsed" class="table table-striped">
                    <tbody>
                        <tr>
                            <th>Id</th>
                            <td>{{selectedMAS.id}}</td>
                        </tr>
                        <tr>
                            <th>Name</th>
                            <td>{{ selectedMAS.config.name }}</td>
                        </tr>
                        <tr>
                            <th>Agents per agency</th>
                            <td>{{ selectedMAS.config.agentsperagency}}</td>
                        </tr>
                        <tr>    
                            <th>DF</th>
                            <td>{{selectedMAS.config.df.active}}</td>
                        </tr>
                        <tr>
                            <th>Logging</th>
                            <td>{{selectedMAS.config.logger.active}}</td>
                        </tr>
                        <tr>
                            <th>MQTT</th>
                            <td>{{ selectedMAS.config.mqtt.active}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            
            <div class="containers">
                <div class="title">Containers</div>
                <div *ngFor="let image of selectedMAS.imagegroups.instances">
                    <div class="card">
                        <div class="card-header">Image {{image.id}}</div>
                        <div class="card-body">
                            <table class="table">
                                <tbody>
                                <tr>
                                    <th>Image</th>
                                    <td>{{image.config.image}}</td>
                                </tr>
                                <tr>
                                    <th>Agencies</th>
                                    <td>{{image.agencies.counter}}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>


            <div class="containers">
                <div class="title">Agents</div>
                <div class="row">   
                    <div class="col-md-4 my-row" *ngFor="let agent of selectedMAS.agents.instances">
                        <div class="card">
                            <div class="card-header">Agent {{agent.id}}</div>
                            <div class="card-body">
                                <table  class="table">
                                    <tbody>
                                    <tr>
                                        <th>Name</th>
                                        <td>{{agent.spec.name}}</td>
                                    </tr>
                                    <tr>
                                        <th>Type</th>
                                        <td>{{agent.spec.type}}</td>
                                    </tr>
                                    <tr>
                                        <th>Agency</th>
                                        <td>{{agent.address.agency}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div> 
                </div>
            </div>         
        </div>
    </div>
</div>



